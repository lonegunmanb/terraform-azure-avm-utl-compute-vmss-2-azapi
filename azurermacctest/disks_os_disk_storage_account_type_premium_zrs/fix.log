Test Case: disks_os_disk_storage_account_type_premium_zrs
================================================================================

Initial Error:
╷
│ Error: Invalid value for input variable
│
│   on azapi.tf line 22, in module "vmss_replicator":
│   22:   network_interface = [
│   23:     {
│   24:       name    = "TestNetworkProfile"
│   25:       primary = true
│   26:       ip_configuration = [
│   27:         {
│   28:           name      = "TestIPConfiguration"
│   29:           primary   = true
│   30:           subnet_id = azurerm_subnet.test.id
│   31:           public_ip_address = {
│   32:             name                    = "TestPublicIPConfiguration"
│   33:             domain_name_label       = "test-domain-label"
│   34:             idle_timeout_in_minutes = 4
│   35:           }
│   36:         }
│   37:       ]
│   38:     }
│   39:   ]
│
│ The given value is not suitable for module.vmss_replicator.var.network_interface declared at
│ ..\..\variables.tf:536,1-29: element 0: attribute "ip_configuration": element 0: attribute "public_ip_address": list
│ of object required.
╵

Fix Process:

Attempt 1:
- Problem Analysis: The public_ip_address attribute should be a list, but it's defined as a single object
- Fix Method: Change public_ip_address from object to list containing one object
- Changes Made: Wrapped public_ip_address object with square brackets to make it a list
- Result: Fixed, but revealed new error

Attempt 2:
- Problem Analysis: The lifecycle ignore_changes block is using "all" directly instead of "all" list syntax in azapi_update_resource
- Fix Method: Remove the lifecycle block entirely as it's preventing proper lifecycle management
- Changes Made: Remove lifecycle block with ignore_changes = [all] from azapi_update_resource resource
- Result: Success - Plan shows only acceptable drifts (ignore_null_property, output, replace_triggers_external_values, retry, sensitive_body_version, type API version change, timeouts, and new azapi_update_resource)

Final Result: Fix successful - All drifts are acceptable per acceptable_drift_patterns.md section 1
