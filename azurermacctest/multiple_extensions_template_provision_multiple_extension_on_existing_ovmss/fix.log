Test Case: multiple_extensions_template_provision_multiple_extension_on_existing_ovmss
================================================================================

Initial Error:
Error: Invalid value for input variable
  on azapi.tf line 22, in module "vmss_replicator":
  The given value is not suitable for module.vmss_replicator.var.network_interface declared at
  ..\..\variables.tf:536,1-29: element 0: attribute "ip_configuration": element 0: attribute "public_ip_address": list
  of object required.

Error: Invalid function argument
  on azapi.tf line 53, in module "vmss_replicator":
  Invalid value for "v" parameter: cannot convert tuple to set of any single type.

Fix Process:

Attempt 1:
- Problem Analysis: Two issues identified:
  1. public_ip_address is defined as an object but the module expects a list
  2. extension is using toset() but the objects have different attributes making them incompatible for set conversion
- Fix Method: 
  1. Change public_ip_address from object to list by wrapping in []
  2. Remove toset() wrapper from extension and use plain list
- Changes Made: 
  1. Line 31-35: Changed public_ip_address = {...} to public_ip_address = [{...}]
  2. Line 53: Changed extension = toset([ to extension = [
  3. Line 84: Changed ]) to ]
- Result: Testing...

Attempt 2:
- Problem Analysis: lifecycle ignore_changes = [all] is incorrect syntax. "all" should not be in a list.
- Fix Method: Change ignore_changes = [all] to ignore_changes = all
- Changes Made: Line 138: Removed brackets around "all"
- Result: Success! Plan shows acceptable drift patterns:
  - API version change (2025-04-01 â†’ 2024-11-01) - Acceptable per Section 1
  - Added replace_triggers_external_values, sensitive_body_version, timeouts - Acceptable per Section 1
  - Plan shows 1 to add (azapi_update_resource), 1 to change (azapi_resource type attribute)
  
Final Result: Fix successful
